{% extends 'base.html' %}

{% block content %}
<div class="hero-section">
    <h1>Coleção Atemporal</h1>
    <p class="hero-subtitle">Peças exclusivas para um guarda-roupa sofisticado</p>
</div>

{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-messages">
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    </div>
  {% endif %}
{% endwith %}

<div class="product-grid">
    {% for produto in produtos %}
        <div class="product-card">
            <div class="product-image-wrapper">
                <img src="{{ produto.imagem_url }}"
                     alt="{{ produto.nome }}"
                     class="product-image"
                     onerror="this.src='https://images.pexels.com/photos/996329/pexels-photo-996329.jpeg?auto=compress&cs=tinysrgb&w=600'">
            </div>

            <div class="product-info">
                <h3>{{ produto.nome }}</h3>
                <p class="product-price">R$ {{ "%.2f"|format(produto.preco) }}</p>
                <p class="product-stock">{{ produto.estoque }} disponíveis</p>

                <a href="{{ url_for('detalhes_produto', id=produto.id) }}" class="btn btn-primary">
                    Ver Detalhes
                </a>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
